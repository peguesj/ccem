{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "1.0.0",
  "metadata": {
    "created": "2025-10-11T00:00:00Z",
    "claude_version": "v2.0.10",
    "description": "Claude Code Environment Manager TUI Structure"
  },
  "schema": {
    "menu": {
      "type": "object",
      "required": ["id", "title", "type"],
      "properties": {
        "id": {"type": "string", "format": "uuid"},
        "parent_id": {"type": ["string", "null"], "format": "uuid"},
        "title": {"type": "string"},
        "icon": {"type": "string"},
        "description": {"type": "string"},
        "type": {"enum": ["root", "submenu", "action", "view"]},
        "shortcut": {"type": "string"},
        "order": {"type": "integer"},
        "handler_function": {"type": ["string", "null"]},
        "requires_confirmation": {"type": "boolean", "default": false}
      }
    },
    "action": {
      "type": "object",
      "required": ["id", "menu_id", "name", "type"],
      "properties": {
        "id": {"type": "string", "format": "uuid"},
        "menu_id": {"type": "string", "format": "uuid"},
        "name": {"type": "string"},
        "type": {"enum": ["inspect", "create", "modify", "delete", "export", "import", "migrate", "analyze"]},
        "scope": {"enum": ["user", "project", "directory", "all"]},
        "handler": {"type": "string"},
        "requires_backup": {"type": "boolean", "default": false},
        "reversible": {"type": "boolean", "default": true}
      }
    },
    "preference": {
      "type": "object",
      "required": ["id", "key", "value"],
      "properties": {
        "id": {"type": "string", "format": "uuid"},
        "key": {"type": "string"},
        "value": {"type": ["string", "number", "boolean", "object"]},
        "scope": {"enum": ["user", "session"]},
        "created_at": {"type": "string", "format": "date-time"},
        "updated_at": {"type": "string", "format": "date-time"}
      }
    }
  },
  "menus": [
    {
      "id": "00000000-0000-0000-0000-000000000000",
      "parent_id": null,
      "title": "Main Menu",
      "icon": "üéØ",
      "description": "Claude Code Environment Manager",
      "type": "root",
      "shortcut": null,
      "order": 0
    },
    {
      "id": "11111111-1111-1111-1111-111111111111",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Inspect Configuration",
      "icon": "üîç",
      "description": "View all config files, hierarchy, effective settings",
      "type": "submenu",
      "shortcut": "1",
      "order": 1,
      "handler_function": null
    },
    {
      "id": "11111111-1111-1111-1111-111111111112",
      "parent_id": "11111111-1111-1111-1111-111111111111",
      "title": "View All Configurations (Hierarchical)",
      "icon": "üìä",
      "description": "Display settings tree with scope indicators",
      "type": "action",
      "shortcut": "1.1",
      "order": 1,
      "handler_function": "inspect_all_configs"
    },
    {
      "id": "11111111-1111-1111-1111-111111111113",
      "parent_id": "11111111-1111-1111-1111-111111111111",
      "title": "Effective Configuration (Resolved)",
      "icon": "‚ú®",
      "description": "Show final settings after scope precedence resolution",
      "type": "action",
      "shortcut": "1.2",
      "order": 2,
      "handler_function": "show_effective_config"
    },
    {
      "id": "22222222-2222-2222-2222-222222222222",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Slash Commands Manager",
      "icon": "üìù",
      "description": "Create, refactor, test, and optimize slash commands",
      "type": "submenu",
      "shortcut": "2",
      "order": 2
    },
    {
      "id": "33333333-3333-3333-3333-333333333333",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Agents & Subagents Manager",
      "icon": "ü§ñ",
      "description": "Manage agent definitions, test behavior, performance metrics",
      "type": "submenu",
      "shortcut": "3",
      "order": 3
    },
    {
      "id": "44444444-4444-4444-4444-444444444444",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Hooks System Manager",
      "icon": "ü™ù",
      "description": "Configure hooks, test execution, performance analysis",
      "type": "submenu",
      "shortcut": "4",
      "order": 4
    },
    {
      "id": "55555555-5555-5555-5555-555555555555",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Settings & Scopes",
      "icon": "üîß",
      "description": "View/edit settings across user/project/directory scopes",
      "type": "submenu",
      "shortcut": "5",
      "order": 5
    },
    {
      "id": "55555555-5555-5555-5555-555555555551",
      "parent_id": "55555555-5555-5555-5555-555555555555",
      "title": "View All Settings (Hierarchical)",
      "icon": "üìä",
      "description": "Display settings tree with scope indicators",
      "type": "action",
      "shortcut": "5.1",
      "order": 1,
      "handler_function": "view_all_settings"
    },
    {
      "id": "55555555-5555-5555-5555-555555555552",
      "parent_id": "55555555-5555-5555-5555-555555555555",
      "title": "Effective Configuration (Resolved)",
      "icon": "‚ú®",
      "description": "Show final settings after scope precedence resolution",
      "type": "action",
      "shortcut": "5.2",
      "order": 2,
      "handler_function": "show_effective_settings"
    },
    {
      "id": "55555555-5555-5555-5555-555555555553",
      "parent_id": "55555555-5555-5555-5555-555555555555",
      "title": "Scope Management",
      "icon": "üîç",
      "description": "Move settings between scopes, merge strategies",
      "type": "action",
      "shortcut": "5.3",
      "order": 3,
      "handler_function": "manage_scopes",
      "requires_confirmation": true
    },
    {
      "id": "66666666-6666-6666-6666-666666666666",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Memory & Vector Systems",
      "icon": "üß†",
      "description": "Analyze patterns, query RAG, optimize performance",
      "type": "submenu",
      "shortcut": "6",
      "order": 6
    },
    {
      "id": "77777777-7777-7777-7777-777777777777",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "MCP Servers & Plugins",
      "icon": "üîå",
      "description": "Manage MCP connections, install/configure servers",
      "type": "submenu",
      "shortcut": "7",
      "order": 7
    },
    {
      "id": "88888888-8888-8888-8888-888888888888",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Migration & Upgrade Tools",
      "icon": "üîÑ",
      "description": "Detect old formats, migrate configs, version compatibility",
      "type": "submenu",
      "shortcut": "8",
      "order": 8
    },
    {
      "id": "99999999-9999-9999-9999-999999999999",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Documentation Browser",
      "icon": "üìö",
      "description": "Search docs, code examples, best practices",
      "type": "submenu",
      "shortcut": "9",
      "order": 9
    },
    {
      "id": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",
      "parent_id": "00000000-0000-0000-0000-000000000000",
      "title": "Recommendations & Optimization",
      "icon": "üé®",
      "description": "AI-powered analysis, performance tips, cleanup suggestions",
      "type": "submenu",
      "shortcut": "A",
      "order": 10
    }
  ],
  "actions": [
    {
      "id": "action-001",
      "menu_id": "55555555-5555-5555-5555-555555555553",
      "name": "Merge Project Settings",
      "type": "modify",
      "scope": "all",
      "handler": "merge_project_settings",
      "requires_backup": true,
      "reversible": true
    },
    {
      "id": "action-002",
      "menu_id": "55555555-5555-5555-5555-555555555553",
      "name": "Move Setting to User Scope",
      "type": "modify",
      "scope": "user",
      "handler": "move_to_user_scope",
      "requires_backup": true,
      "reversible": true
    }
  ],
  "preferences": []
}
