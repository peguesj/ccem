{
  "strategy_id": "custom-001",
  "strategy_name": "Total User-Level Consolidation with Security Audit",
  "timestamp": "2025-10-11T00:00:00Z",
  "operations": [
    {
      "id": "op-001",
      "type": "consolidate_permissions",
      "source": "all_projects",
      "target": "~/.claude/settings.json",
      "action": "merge_unique",
      "items_count": 87,
      "projects_affected": ["lcc", "strategic-thinking", "idfw", "vantage-iso", "idfwu", "resume-match-maker-pro"]
    },
    {
      "id": "op-002",
      "type": "consolidate_mcp_servers",
      "source": "all_projects",
      "target": "~/.claude/claude_code_config.json",
      "action": "merge_unique",
      "servers": ["linear", "ruv-swarm", "claude-flow"],
      "projects_affected": ["lcc", "vantage-iso", "resume-match-maker-pro"]
    },
    {
      "id": "op-003",
      "type": "move_settings",
      "source": "project_settings",
      "target": "~/.claude/settings.json",
      "action": "consolidate_all",
      "settings": ["enableAllProjectMcpServers", "enabledMcpjsonServers", "additionalDirectories"],
      "projects_affected": ["lcc", "idfwu", "resume-match-maker-pro"]
    },
    {
      "id": "op-004",
      "type": "security_audit",
      "action": "create_hook",
      "hook_name": "PostMergeSecurityAudit",
      "trigger": "UserPromptSubmit",
      "flags_to_audit": [
        {"flag": "bypassPermissions", "project": "idfwu", "risk": "high"},
        {"flag": "Bash(:*:*)", "project": "idfwu", "risk": "high"}
      ]
    },
    {
      "id": "op-005",
      "type": "create_slash_command",
      "scope": "user",
      "command_name": "ccem",
      "location": "~/.claude/commands/ccem.md",
      "args": ["action", "scope", "target"]
    },
    {
      "id": "op-006",
      "type": "create_slash_command",
      "scope": "project",
      "command_name": "ccem",
      "location": ".claude/commands/ccem.md",
      "args": ["action", "scope", "target"],
      "contextual": true
    },
    {
      "id": "op-007",
      "type": "create_hook",
      "hook_name": "ConfigurationReporter",
      "trigger": "SessionStart",
      "purpose": "Report updated configuration and CCEM command availability"
    },
    {
      "id": "op-008",
      "type": "delete_files",
      "action": "remove_project_settings",
      "requires_confirmation": true,
      "files": [
        "/Users/jeremiah/Developer/lcc/.claude/settings.local.json",
        "/Users/jeremiah/Developer/strategic-thinking/.claude/settings.local.json",
        "/Users/jeremiah/Developer/idfw/.claude/settings.local.json",
        "/Users/jeremiah/Developer/vantage-iso/.claude/settings.local.json",
        "/Users/jeremiah/Developer/idfwu/.claude/settings.local.json",
        "/Users/jeremiah/Developer/resume-match-maker-pro/.claude/settings.local.json"
      ]
    }
  ],
  "before_state": {
    "user_permissions_count": 0,
    "project_permissions_total": 133,
    "user_mcp_servers": 2,
    "project_mcp_servers": 3,
    "settings_files": 6,
    "security_risks": 2
  },
  "after_state": {
    "user_permissions_count": 87,
    "project_permissions_total": 0,
    "user_mcp_servers": 3,
    "project_mcp_servers": 0,
    "settings_files": 0,
    "security_risks": 0,
    "audit_hooks": 2,
    "slash_commands": 2
  }
}
